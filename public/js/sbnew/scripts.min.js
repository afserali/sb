window.textToHtml = function(e) {
    var i = String(e).replace(/<\!DOCTYPE[^>]*>/i, "").replace(/<(html|head|body|title|meta|script)([\s\>])/gi, '<div class="document-$1"$2').replace(/<\/(html|head|body|title|meta|script)\>/gi, "</div>");
    return i
}, $(function() {
    setTimeout(function() {
        $("body").addClass("loading")
    }, 200), setTimeout(function() {
        $("body").addClass("loaded")
    }, 2500), setTimeout(function() {
        $("body").addClass("initialized")
    }, 3600)
}), $(function() {
   
  
        o = Backbone.View.extend({

            initialize: function() {
                this.$gem = $(".gem-image", this.$el), this.$gems = $(".gems", this.$el), this.$headline = $(".section-headline", this.$el), $(window).on("scroll", this.onWindowScroll.bind(this)), setTimeout(this.initWaypoints.bind(this), 4e3)
            },
            initWaypoints: function() {
                this.$gems.waypoint(function(e) {
                    $(".gem", this.element).each(function(e) {
                        var i = $(this);
                        setTimeout(function() {
                            i.addClass("animate")
                        }, 500 * e)
                    })
                }, {
                    offset: "70%"
                })
            },
            onWindowScroll: function(e) {
                var i = $(window).scrollTop() / this.$el.offset().top;
                this.$gem.css({
                    top: -$(window).height() * i * .2
                })
            }
        })

});